(this["webpackJsonpdaily-stock-tracker"]=this["webpackJsonpdaily-stock-tracker"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),s=a.n(l),i=a(1),o=a(2),c=a(4),u=a(3);var m=function(e){return r.a.createElement("div",{className:"data-point "+e.type},r.a.createElement("p",null,e.type+":"),r.a.createElement("p",{className:e.color?e.color:""},e.value?e.value.substring(0,e.value.length-2):""))},h=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={data:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.urlFront+this.props.symbol+this.props.urlBack;fetch(t).then((function(e){return e.json()})).then((function(t){var a=t["Time Series (Daily)"];if(a){var n=a[Object.keys(a)[0]];n&&e.setState({data:n})}}))}},{key:"getCloseColor",value:function(){return this.state.data["1. open"]>this.state.data["4. close"]?"red":"green"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card",symbol:this.props.symbol},r.a.createElement("h1",null,this.props.symbol),r.a.createElement("div",{className:"delete-card-btn",onClick:function(t){return e.props.onDeleteClick(t)}},"X"),r.a.createElement("div",{className:"cardInfo"},r.a.createElement(m,{type:"Open",value:this.state.data["1. open"]}),r.a.createElement(m,{type:"High",value:this.state.data["2. high"],color:"green"}),r.a.createElement(m,{type:"Low",value:this.state.data["3. low"],color:"red"}),r.a.createElement(m,{type:"Close",value:this.state.data["4. close"],color:this.getCloseColor()})))}}]),a}(r.a.Component),p=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={list:!1},e}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=this,a=e.target.value;a?fetch("https://ticker-2e1ica8b9.now.sh/keyword/"+a).then((function(e){return e.json()})).then((function(e){t.setState({list:e})})).catch((function(e){return t.setState({list:!1})})):this.setState({list:!1})}},{key:"handleListClick",value:function(e){var t=e.currentTarget.getAttribute("data-key");this.props.search(t)}},{key:"getList",value:function(){var e=this,t=[];if(this.state.list)for(var a=0;a<this.state.list.length&&!(a>=5);a++){var n=this.state.list[a],l=n.symbol,s=n.name;t.push(r.a.createElement("li",{className:"input-option",key:l,"data-key":l,onClick:function(t){return e.handleListClick(t)}},r.a.createElement("div",{className:"symbol"},l),r.a.createElement("div",{className:"name"},s)))}return t}},{key:"emptyList",value:function(){this.setState({list:!1})}},{key:"render",value:function(){var e=this,t=this.getList();return r.a.createElement("div",{id:"submitter-container"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Stock symbol",id:"submitter",onChange:function(t){return e.handleChange(t)},onBlur:function(){return setTimeout((function(){return e.emptyList()}),500)}}),t&&r.a.createElement("ul",null,t)),r.a.createElement("button",{type:"button",title:"Add Stock",onClick:function(){return e.props.onClick()}},"+"))}}]),a}(r.a.Component);var d=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={symbols:["MSFT","AAPL","FB","TSLA"]},n}return Object(o.a)(a,[{key:"clickHandler",value:function(){var e=document.getElementById("submitter");this.searchSymbol(e.vlalue)}},{key:"deleteClickHandler",value:function(e){var t=e.target.parentElement.getAttribute("symbol");this.setState({symbols:this.state.symbols.filter((function(e){return e!==t}))})}},{key:"searchSymbol",value:function(e){var t=function(e){var t=e.match(/([^\s]+)/)[1];return t?t.toUpperCase():null}(e);!this.state.symbols.includes(t)&&this.isValidInput(t)&&this.setState({symbols:this.state.symbols.concat([t])}),document.getElementById("submitter").value=""}},{key:"isValidInput",value:function(e){if(e)try{return fetch(this.props.urlFront+e+this.props.urlBack).then((function(e){return e.json()})).then((function(e){return e.Note?(console.log("Too many queries per minute. Max of 5. Sorry, that is all that is available for free"),!1):e.Error?(console.log(e["Error:"]),!1):void 0})),!0}catch(t){return console.log("error: ",t),!1}return!1}},{key:"render",value:function(){var e=this,t=this.state.symbols.map((function(t){return r.a.createElement(h,{key:t,symbol:t,urlFront:e.props.urlFront,urlBack:e.props.urlBack,onDeleteClick:function(t){return e.deleteClickHandler(t)}})}));return r.a.createElement("div",null,r.a.createElement("div",{id:"disclaimer"},"Disclaimer!",r.a.createElement("br",null),"Max of 5 API queries per minute",r.a.createElement("p",null,"Sorry, I'm cheap :)")),r.a.createElement("div",{id:"main"},t),r.a.createElement(p,{onClick:function(){return e.clickHandler()},search:function(t){return e.searchSymbol(t)}}))}}]),a}(r.a.Component);a(12),a(13);s.a.render(r.a.createElement(d,{urlFront:"https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=",urlBack:"&apikey=B6WDTRVM6XVHCW5V"}),document.getElementById("root"))},7:function(e,t,a){e.exports=a(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.24bdbccc.chunk.js.map